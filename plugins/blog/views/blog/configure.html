<main class="sv-page__wrap sv-page__wrap--center">
  <header class="sv-page__header flex row flex-space-between align-items-center">
    <div>
      <h2 class="sv-page__title">Configure Blog</h2>
      <p class="sv-page__subtitle">{{project.name}}</p>
    </div>
  </header>

  <section class="sv-card">
    <div class="sv-card__body">
      <form
        id="blog-config-form"
        class="sv-form sv-grid col gap-s padding-s"
        data-project-id="{{project.id}}"
        data-repo-url="{{gitConfig.repoUrl}}"
        data-branch="{{gitConfig.branch}}"
        data-git-user-name="{{gitConfig.userName}}"
        data-git-user-email="{{gitConfig.userEmail}}"
        data-content-dir="{{gitConfig.contentDir}}"
        novalidate
      >
        <div class="sv-form__field">
          <label class="form__label" for="repo-url-input">Repository URL</label>
          <input
            id="repo-url-input"
            class="input"
            name="repoUrl"
            type="text"
            placeholder="https://github.com/owner/repo.git or git@github.com:owner/repo.git"
            required
            autofocus
          />
          <small class="sv-form__field-helptext"
            >Use HTTPS or SSH URL to your content repository.</small
          >
        </div>

        <div class="sv-form__field">
          <label class="form__label" for="branch-input">Default branch</label>
          <input
            id="branch-input"
            class="input"
            name="branch"
            type="text"
            placeholder="main"
            value="main"
          />
        </div>

        <!-- Git user name -->
        <div class="sv-form__field">
          <label class="form__label" for="git-user-name-input">Git User Name (optional)</label>
          <input
            id="git-user-name-input"
            class="input"
            name="gitUserName"
            type="text"
            placeholder="e.g., John Doe"
            maxlength="120"
            autocomplete="name"
          />
          <small class="sv-form__field-helptext">Used as commit author name.</small>
        </div>

        <!-- Git user email -->
        <div class="sv-form__field">
          <label class="form__label" for="git-user-email-input">Git User Email (optional)</label>
          <input
            id="git-user-email-input"
            class="input"
            name="gitUserEmail"
            type="email"
            placeholder="you@example.com"
            maxlength="120"
            autocomplete="email"
          />
          <small class="sv-form__field-helptext">Used as commit author email.</small>
        </div>

        <!-- Git auth token -->
        <div class="sv-form__field">
          <label class="form__label" for="git-auth-token-input">Git Auth Token (optional)</label>
          <input
            id="git-auth-token-input"
            class="input"
            name="gitAuthToken"
            type="password"
            placeholder="ghp_xxx..."
            maxlength="200"
            autocomplete="new-password"
          />
          <small class="sv-form__field-helptext">Needed for private repos over HTTPS.</small>
        </div>

        <div class="sv-form__field">
          <label class="form__label" for="content-dir-input">Content directory (optional)</label>
          <input
            id="content-dir-input"
            class="input"
            name="contentDir"
            type="text"
            placeholder="e.g., content/posts"
            maxlength="200"
          />
          <small class="sv-form__field-helptext"
            >Leave empty if content lives at repository root.</small
          >
        </div>

        <div
          class="form__alert form__alert--error"
          id="form-error"
          role="alert"
          style="display: none"
        ></div>

        <div class="sv-form__actions">
          <button class="button sv-button" onclick="location.href='/'">Cancel</button>
          <button type="submit" class="button sv-button sv-button--primary" id="save-btn">
            Save
          </button>
        </div>
      </form>
    </div>
  </section>
</main>
<script src="/js/startup.js" defer></script>
<script
  src="/blog/js/configure.js?v={{#if head.cacheBuster}}{{head.cacheBuster}}{{else}}{{app.version}}{{/if}}"
  defer
></script>
